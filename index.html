<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StreamVibe</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
</head>
<body>
    <!-- Navigation -->
    <header>
        <nav>
            <a href="#" class="logo">
                <i class="fas fa-play-circle"></i>
                StreamVibe
            </a>
            <div class="nav-links">
                <a href="#popular">Фильмы</a>
                <a href="#features">Особенности</a>
                <a href="#faq">FAQ</a>
                <a href="#contacts">Контакты</a>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Смотри фильмы в 4K вместе с друзьями</h1>
            <div class="hero-video">
                <iframe src="https://www.youtube.com/embed/8SdL-PUJh6Q?autoplay=0" frameborder="0" allowfullscreen></iframe>
            </div>
            <div class="cta-container">
                <a href="#" class="cta-btn cta-primary" onclick="downloadApp()">
                    <i class="fas fa-download"></i>
                    Скачать для Windows
                </a>
                <a href="#movie-select" class="cta-btn cta-secondary">
                    <i class="fas fa-users"></i>
                    Присоединиться к комнате
                </a>
            </div>
        </div>
    </section>

    <!-- Popular Movies -->
    <section id="popular" class="popular-movies">
        <div id="popular-particles"></div>
        <div class="section-header">
            <div class="section-icon">
                <i class="fas fa-fire"></i>
            </div>
            <h2 class="section-title">Популярное сейчас</h2>
        </div>
        <div class="movie-grid">
            <a href="https://www.imdb.com/title/tt1517268/" class="movie-card">
                <div class="play-overlay">
                    <i class="fas fa-play"></i>
                </div>
                <img src="img1.jpg" alt="Barbie">
                <div class="rating">8.3</div>
                <div class="movie-card-content">
                    <h3>Barbie</h3>
                </div>
            </a>
            <a href="https://www.imdb.com/title/tt15239678/" class="movie-card">
                <div class="play-overlay">
                    <i class="fas fa-play"></i>
                </div>
                <img src="img2.jpg" alt="Dune: Part Two">
                <div class="rating">8.7</div>
                <div class="movie-card-content">
                    <h3>Dune: Part Two</h3>
                </div>
            </a>
            <a href="https://www.imdb.com/title/tt15398776/" class="movie-card">
                <div class="play-overlay">
                    <i class="fas fa-play"></i>
                </div>
                <img src="img4.jpg" alt="Oppenheimer">
                <div class="rating">8.4</div>
                <div class="movie-card-content">
                    <h3>Oppenheimer</h3>
                </div>
            </a>
            <a href="https://www.imdb.com/title/tt0816692/" class="movie-card">
                <div class="play-overlay">
                    <i class="fas fa-play"></i>
                </div>
                <img src="img5.jpg" alt="The Batman">
                <div class="rating">7.9</div>
                <div class="movie-card-content">
                    <h3>The Batman</h3>
                </div>
            </a>
            <a href="https://www.imdb.com/title/tt3748528/" class="movie-card">
                <div class="play-overlay">
                    <i class="fas fa-play"></i>
                </div>
                <img src="img3.jpg" alt="Stranger Things S5">
                <div class="rating">8.7</div>
                <div class="movie-card-content">
                    <h3>Stranger Things S5</h3>
                </div>
            </a>
            <a href="https://www.imdb.com/title/tt0439572/" class="movie-card">
                <div class="play-overlay">
                    <i class="fas fa-play"></i>
                </div>
                <img src="img6.jpg" alt="Avatar: Fire and Ash">
                <div class="rating">7.8</div>
                <div class="movie-card-content">
                    <h3>Avatar: Fire and Ash</h3>
                </div>
            </a>
        </div>
    </section>

    <!-- Features -->
    <section id="features" class="features-container">
        <div class="features">
            <div class="section-header">
                <div class="section-icon">
                    <i class="fas fa-star"></i>
                </div>
                <h2 class="section-title">Почему StreamVibe?</h2>
            </div>
            <div class="feature-grid">
                <div class="feature">
                    <i class="fas fa-users"></i>
                    <h3>Совместный просмотр</h3>
                    <p>Создавай приватные комнаты и приглашай друзей для синхронного просмотра в реальном времени</p>
                </div>
                <div class="feature">
                    <i class="fas fa-comments"></i>
                    <h3>Чат и голосовой чат</h3>
                    <p>Общайтесь во время просмотра без спойлеров. Голосовой чат для живого общения</p>
                </div>
                <div class="feature">
                    <i class="fab fa-windows"></i>
                    <h3>Оптимизировано для Windows</h3>
                    <p>Стабильная работа, минимальная нагрузка на систему и максимальная производительность</p>
                </div>
                <div class="feature">
                    <i class="fas fa-shield-alt"></i>
                    <h3>Полная приватность</h3>
                    <p>Комнаты доступны только приглашенным пользователям. End-to-End шифрование чатов</p>
                </div>
                <div class="feature">
                    <i class="fas fa-tv"></i>
                    <h3>4K и HDR качество</h3>
                    <p>Поддержка высокого разрешения и HDR контента без потери качества изображения</p>
                </div>
                <div class="feature">
                    <i class="fas fa-globe"></i>
                    <h3>Мультиплатформенность</h3>
                    <p>Интеграция с Netflix, YouTube, Amazon Prime, Disney+ и поддержка локальных файлов</p>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works -->
    <section class="how-it-works">
        <div class="section-header">
            <div class="section-icon">
                <i class="fas fa-cogs"></i>
            </div>
            <h2 class="section-title">Как это работает?</h2>
        </div>
        <div class="steps">
            <div class="step">
                <div class="step-number">01</div>
                <h3>Скачай и установи</h3>
                <p>Загрузи приложение для Windows и установи за 2 минуты</p>
            </div>
            <div class="step">
                <div class="step-number">02</div>
                <h3>Создай комнату</h3>
                <p>Выбери фильм или сериал и сгенерируй уникальную ссылку для друзей</p>
            </div>
            <div class="step">
                <div class="step-number">03</div>
                <h3>Смотрите вместе</h3>
                <p>Видео автоматически синхронизируется для всех участников комнаты</p>
            </div>
        </div>
    </section>

    <!-- Testimonials -->
    <section class="testimonials">
        <div class="section-header">
            <div class="section-icon">
                <i class="fas fa-quote-left"></i>
            </div>
            <h2 class="section-title">Что говорят наши пользователи</h2>
        </div>
        <div class="testimonial-grid">
            <div class="testimonial">
                <img src="https://randomuser.me/api/portraits/women/71.jpg" alt="Веера" class="testimonial-avatar">
                <div class="testimonial-text">"StreamVibe полностью изменил наши посиделки! Смотрим Barbie с подругами, чат работает идеально, синхронизация без задержек. Просто огонь!"</div>
                <div class="testimonial-author">- Веера Кари, 22 года</div>
            </div>
            <div class="testimonial">
                <img src="https://randomuser.me/api/portraits/men/44.jpg" alt="Патрик" class="testimonial-avatar">
                <div class="testimonial-text">"Качество 4K просто потрясающее! Синхронизация работает без лагов даже при слабом соединении. Скачал за минуту и сразу начал пользоваться."</div>
                <div class="testimonial-author">- Патрик Гарнье, 28 лет</div>
            </div>
            <div class="testimonial">
                <img src="https://randomuser.me/api/portraits/women/62.jpg" alt="Роуз" class="testimonial-avatar">
                <div class="testimonial-text">"Идеально для девичников! Приватные комнаты — это то, что нужно. Все подруги в восторге, теперь это наша основная платформа для кино."</div>
                <div class="testimonial-author">- Роуз Маккей, 19 лет</div>
            </div>
            <div class="testimonial">
                <img src="https://randomuser.me/api/portraits/men/43.jpg" alt="Гёкхан" class="testimonial-avatar">
                <div class="testimonial-text">"Смотрели Oppenheimer — ощущения как в настоящем кинотеатре! Качество изображения и звука на высоте, все работает стабильно."</div>
                <div class="testimonial-author">- Гёкхан Эртепыннар, 25 лет</div>
            </div>
            <div class="testimonial">
                <img src="https://randomuser.me/api/portraits/women/3.jpg" alt="Хлое" class="testimonial-avatar">
                <div class="testimonial-text">"Приватные комнаты — настоящая находка! Никто не мешает, можно спокойно обсуждать сюжет. Интерфейс интуитивно понятный."</div>
                <div class="testimonial-author">- Хлое Уоллес, 21 год</div>
            </div>
            <div class="testimonial">
                <img src="https://randomuser.me/api/portraits/men/51.jpg" alt="Стивен" class="testimonial-avatar">
                <div class="testimonial-text">"Простое и удобное приложение. Скачал, установил, создали комнату — и сразу в дело. Никаких сложностей, всё работает как часы."</div>
                <div class="testimonial-author">- Стивен Стивенс, 30 лет</div>
            </div>
        </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="faq">
        <div class="section-header">
            <div class="section-icon">
                <i class="fas fa-question-circle"></i>
            </div>
            <h2 class="section-title">Часто задаваемые вопросы</h2>
        </div>
        <div class="faq-container">
            <div class="faq-item">
                <div class="faq-question">
                    <span>Как скачать и установить приложение?</span>
                    <span class="icon">+</span>
                </div>
                <div class="faq-answer">
                    <strong>Простая установка в 4 шага:</strong>
                    <ul>
                        <li>Нажмите кнопку "Скачать для Windows" на главной странице</li>
                        <li>Распакуйте архив (пароль: 3987)</li>
                        <li>Запустите stream-vibe-installer.exe</li>
                        <li>Следуйте инструкциям установщика (2-3 минуты)</li>
                    </ul>
                    <p><strong>Поддержка:</strong> доступна 24/7 через встроенный чат</p>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question">
                    <span>На каких платформах работает StreamVibe?</span>
                    <span class="icon">+</span>
                </div>
                <div class="faq-answer">
                    <strong>Текущая поддержка:</strong>
                    <ul>
                        <li><code>Windows 10/11</code> — полная поддержка (64-bit)</li>
                        <li><code>Браузерная версия</code> — Chrome, Firefox, Safari</li>
                    </ul>
                    <strong>В разработке:</strong>
                    <ul>
                        <li><code>macOS</code> — релиз через 2-3 месяца</li>
                        <li><code>iOS/Android</code> — первая половина 2026 года</li>
                    </ul>
                    <p><strong>Системные требования:</strong> 4 ГБ RAM, 100 МБ места</p>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question">
                    <span>Как работает синхронизация видео?</span>
                    <span class="icon">+</span>
                </div>
                <div class="faq-answer">
                    <strong>Технология SyncTime™ обеспечивает:</strong>
                    <ul>
                        <li><strong>Задержка &lt; 50ms</strong> между участниками</li>
                        <li>Автоматическая компенсация буферизации</li>
                        <li>Адаптивная синхронизация под разную скорость интернета</li>
                        <li>Резервное копирование через WebRTC</li>
                    </ul>
                    <p>Система автоматически подстраивается под каждого участника комнаты</p>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question">
                    <span>Какие стриминговые сервисы поддерживаются?</span>
                    <span class="icon">+</span>
                </div>
                <div class="faq-answer">
                    <strong>Полная поддержка:</strong>
                    <ul>
                        <li><code>YouTube</code> — все видео включая 4K и 60 FPS</li>
                        <li><code>Netflix</code> — премиум контент (требуется подписка)</li>
                        <li><code>Amazon Prime Video</code> — 4K HDR контент</li>
                        <li><code>Disney+</code> — Marvel, Star Wars, Pixar</li>
                        <li><code>HBO Max</code> — контент Warner Bros.</li>
                    </ul>
                    <strong>Дополнительно:</strong>
                    <ul>
                        <li><code>Спорт:</code> TNT Sports, ESPN+, DAZN</li>
                        <li><code>Музыка:</code> Spotify, Apple Music</li>
                        <li><code>Файлы:</code> MP4, MKV до 8K + субтитры</li>
                    </ul>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question">
                    <span>Насколько безопасно использование?</span>
                    <span class="icon">+</span>
                </div>
                <div class="faq-answer">
                    <strong>Меры безопасности:</strong>
                    <ul>
                        <li><strong>Антивирусная защита:</strong> проверено Norton, McAfee, Kaspersky</li>
                        <li><strong>Шифрование:</strong> TLS 1.3 для соединений + AES-256 для данных</li>
                        <li><strong>Приватность:</strong> End-to-End шифрование приватных комнат</li>
                        <li><strong>Аутентификация:</strong> цифровая подпись Microsoft Authenticode</li>
                    </ul>
                    <strong>Что НЕ делаем:</strong>
                    <ul>
                        <li>Не собираем пароли от стриминговых сервисов</li>
                        <li>Не храним историю просмотров без согласия</li>
                        <li>Не показываем рекламу в приложении</li>
                        <li>Соответствуем GDPR и российскому законодательству</li>
                    </ul>
                    <p><strong>Важно:</strong> скачивайте только с официального сайта</p>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question">
                    <span>Поддерживается ли оффлайн просмотр?</span>
                    <span class="icon">+</span>
                </div>
                <div class="faq-answer">
                    <strong>Онлайн режим (основной):</strong>
                    <ul>
                        <li><code>1080p:</code> от 5 Мбит/с</li>
                        <li><code>4K:</code> от 25 Мбит/с</li>
                        <li>Авто-подстройка под скорость соединения</li>
                    </ul>
                    <strong>Оффлайн возможности:</strong>
                    <ul>
                        <li><code>Локальные файлы:</code> MP4, MKV до 8K разрешения</li>
                        <li><code>Скачивание:</code> Netflix, YouTube Premium</li>
                        <li><code>Локальная сеть:</code> Wi-Fi без интернета (multicast протокол)</li>
                    </ul>
                    <strong>Хранение:</strong>
                    <ul>
                        <li>Автоматическая папка <code>C:\StreamVibe\Offline</code></li>
                        <li>Поддержка USB/HDD накопителей</li>
                        <li>Встроенный плеер с субтитрами и эквалайзером</li>
                    </ul>
                    <p><strong>Ограничения:</strong> чат работает только в локальной сети, нет облачного сохранения прогресса</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Movie Rooms -->
    <section id="movie-select">
        <div class="section-header">
            <div class="section-icon">
                <i class="fas fa-door-open"></i>
            </div>
            <h2 class="section-title">Активные комнаты</h2>
        </div>
        <div class="rooms-header">
            <input type="text" id="search" placeholder="Поиск по фильмам..." onkeyup="searchRooms()">
            <button class="create-room-btn" onclick="createRoom()">
                <i class="fas fa-plus"></i>
                Создать комнату
            </button>
        </div>
        <div class="movie-rooms">
            <div class="room-card">
                <img src="mimg1.jpg" alt="Interstellar">
                <h4>Interstellar</h4>
                <div class="viewers">12 зрителей</div>
                <span class="room-status">В эфире</span>
            </div>
            <div class="room-card">
                <img src="mimg2.jpg" alt="Inception">
                <h4>Inception</h4>
                <div class="viewers">8 зрителей</div>
                <span class="room-status">В эфире</span>
            </div>
            <div class="room-card">
                <img src="mimg3.jpg" alt="The Dark Knight">
                <h4>The Dark Knight</h4>
                <span class="room-status">В эфире</span>
            </div>
            <div class="room-card waiting">
                <img src="mimg4.jpg" alt="Pulp Fiction">
                <h4>Pulp Fiction</h4>
                <div class="viewers">5 зрителей</div>
                <span class="room-status">Ожидает</span>
            </div>
            <div class="room-card">
                <img src="mimg5.jpg" alt="The Matrix">
                <h4>The Matrix</h4>
                <div class="viewers">9 зрителей</div>
                <span class="room-status">В эфире</span>
            </div>
            <div class="room-card">
                <img src="mimg6.jpg" alt="Fight Club">
                <h4>Fight Club</h4>
                <div class="viewers">7 зрителей</div>
                <span class="room-status">В эфире</span>
            </div>
        </div>
    </section>

    <!-- Watch Party Modal -->
    <div id="watch-party">
        <div class="watch-party-container">
            <div class="party-header">
                <h2 class="party-title">
                    <i class="fas fa-film"></i>
                    <span id="party-movie-title">Загрузка...</span>
                </h2>
                <div class="party-buttons">
                    <button onclick="shareRoom()">
                        <i class="fas fa-share-alt"></i>
                        Поделиться ссылкой
                    </button>
                    <button onclick="leaveRoom()">
                        <i class="fas fa-sign-out-alt"></i>
                        Выйти из комнаты
                    </button>
                </div>
            </div>
            <div class="party-users">
                <h3>
                    <i class="fas fa-users"></i>
                    Участники комнаты
                </h3>
                <div id="users-list">
                    <div class="user you">
                        <div class="user-avatar">Т</div>
                        <span>Ты</span>
                        <div class="status"></div>
                    </div>
                </div>
            </div>
            <div class="player-chat">
                <div id="video-player">
                    <iframe id="video-player-iframe" src="" frameborder="0" allowfullscreen></iframe>
                </div>
                <div id="chat">
                    <h3>
                        <i class="fas fa-comments"></i>
                        Чат комнаты
                    </h3>
                    <ul id="messages"></ul>
                    <div class="chat-input">
                        <input type="text" placeholder="Напиши сообщение..." onkeypress="handleKeyPress(event)">
                        <button onclick="sendMessage()">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer id="contacts">
        <div class="section-header">
            <div class="section-icon">
                <i class="fas fa-envelope"></i>
            </div>
            <h2>Связаться с нами</h2>
        </div>
        <div class="contacts">
            <a href="#" class="contact-link" title="Telegram">
                <i class="fab fa-telegram"></i>
            </a>
            <a href="#" class="contact-link" title="Discord">
                <i class="fab fa-discord"></i>
            </a>
            <a href="#" class="contact-link" title="Twitter">
                <i class="fab fa-twitter"></i>
            </a>
            <a href="#" class="contact-link" title="Email">
                <i class="fas fa-envelope"></i>
            </a>
        </div>
        <div class="contact-form">
            <h3>Обратная связь</h3>
            <div class="error" id="form-error"></div>
            <form id="contact-form">
                <input type="text" placeholder="Ваше имя" required>
                <input type="email" placeholder="Email" required>
                <textarea placeholder="Сообщение" required></textarea>
                <button type="submit">Отправить</button>
            </form>
        </div>
        <div class="footer-links">
            <a href="#">Политика конфиденциальности</a>
            <a href="#">Условия использования</a>
            <a href="#">Поддержка</a>
            <a href="#">О нас</a>
        </div>
    </footer>

    <!-- Download Modal -->
    <div id="download-modal" class="modal">
        <div class="modal-content">
            <h2>Скачивание началось!</h2>
            <p>Ваш файл загружается. Пожалуйста, дождитесь завершения.</p>
            <div class="progress-bar">
                <div class="progress" id="download-progress"></div>
            </div>
            <div class="modal-hint">
                <i class="fas fa-info-circle"></i>
                После скачивания запустите <code>stream-vibe-installer.exe</code> и следуйте инструкциям.
            </div>
        </div>
    </div>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const target = document.querySelector(targetId);
                if (target) {
                    const headerHeight = document.querySelector('header').offsetHeight;
                    const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - headerHeight;
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Download app function
        function downloadApp() {
            const modal = document.getElementById('download-modal');
            modal.classList.add('visible');
            
            // Simulate download progress
            const progress = document.getElementById('download-progress');
            let width = 0;
            const interval = setInterval(() => {
                if (width >= 100) {
                    clearInterval(interval);
                } else {
                    width += Math.random() * 15;
                    if (width > 100) width = 100;
                    progress.style.width = width + '%';
                }
            }, 200);

            setTimeout(() => {
                modal.classList.remove('visible');
            }, 3000);
        }

        // FAQ accordion
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', () => {
                const faqItem = question.parentElement;
                const isActive = faqItem.classList.contains('active');
                
                // Close all FAQ items
                document.querySelectorAll('.faq-item').forEach(item => {
                    item.classList.remove('active');
                });
                
                // Open clicked item if it wasn't active
                if (!isActive) {
                    faqItem.classList.add('active');
                }
            });
        });

        // Feature animation on scroll
        function animateFeatures() {
            const features = document.querySelectorAll('.feature');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });
            
            features.forEach(feature => observer.observe(feature));
        }

        // Step animation on scroll
        function animateSteps() {
            const steps = document.querySelectorAll('.step');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            entry.target.classList.add('visible');
                        }, index * 200);
                    }
                });
            }, { threshold: 0.2 });
            
            steps.forEach(step => observer.observe(step));
        }

        // Testimonial animation on scroll
        function animateTestimonials() {
            const testimonials = document.querySelectorAll('.testimonial');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry, index) => {
                    if (entry.isIntersecting) {
                        setTimeout(() => {
                            entry.target.style.opacity = '1';
                            entry.target.style.transform = 'translateY(0)';
                        }, index * 150);
                    }
                });
            }, { threshold: 0.1 });
            
            testimonials.forEach(testimonial => {
                testimonial.style.opacity = '0';
                testimonial.style.transform = 'translateY(30px)';
                testimonial.style.transition = 'all 0.6s ease';
                observer.observe(testimonial);
            });
        }

        // Room search functionality
        function searchRooms() {
            const searchTerm = document.getElementById('search').value.toLowerCase();
            const roomCards = document.querySelectorAll('.room-card');
            
            roomCards.forEach(card => {
                const title = card.querySelector('h4').textContent.toLowerCase();
                if (title.includes(searchTerm)) {
                    card.style.display = 'flex';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // Create room functionality
        function createRoom() {
            alert('Функция создания комнаты в разработке!');
        }

        // Watch party functions
        const movieTrailers = {
            'Interstellar': 'https://www.youtube.com/embed/zSWdZVtXT7E?autoplay=0',
            'Inception': 'https://www.youtube.com/embed/YoHD9XEInc0?autoplay=0',
            'The Dark Knight': 'https://www.youtube.com/embed/EXeTwQWrcwY?autoplay=0',
            'Pulp Fiction': 'https://www.youtube.com/embed/s7EdQ4fzBhY?autoplay=0',
            'The Matrix': 'https://www.youtube.com/embed/vKQi3bBA1y8?autoplay=0',
            'Fight Club': 'https://www.youtube.com/embed/SUXWAEX2jlg?autoplay=0'
        };

        function joinRoom(roomTitle) {
            document.getElementById('party-movie-title').textContent = roomTitle;
            const videoPlayer = document.getElementById('video-player-iframe');
            videoPlayer.src = movieTrailers[roomTitle] || 'https://www.youtube.com/embed/dQw4w9WgXcQ?autoplay=0';
            document.getElementById('watch-party').classList.add('active');
        }

        // Add click handlers for room cards
        document.querySelectorAll('.room-card').forEach(card => {
            card.addEventListener('click', function() {
                const title = this.querySelector('h4').textContent;
                joinRoom(title);
            });
        });

        function leaveRoom() {
            document.getElementById('watch-party').classList.remove('active');
            document.getElementById('video-player-iframe').src = '';
        }

        function shareRoom() {
            if (navigator.share) {
                navigator.share({
                    title: 'Присоединяйся к просмотру!',
                    text: 'Смотрим фильм вместе в StreamVibe',
                    url: window.location.href
                });
            } else {
                // Fallback for browsers without Web Share API
                const roomLink = window.location.href + '?room=' + Date.now();
                navigator.clipboard.writeText(roomLink).then(() => {
                    alert('Ссылка на комнату скопирована в буфер обмена!');
                });
            }
        }

        // Chat functionality
        let messageCount = 0;
        function sendMessage() {
            const input = document.querySelector('.chat-input input');
            const message = input.value.trim();
            if (message) {
                const messagesList = document.getElementById('messages');
                const li = document.createElement('li');
                li.className = 'you';
                li.innerHTML = `
                    <strong>Ты:</strong> ${message}
                    <small>${new Date().toLocaleTimeString()}</small>
                `;
                messagesList.appendChild(li);
                messagesList.scrollTop = messagesList.scrollHeight;
                input.value = '';
                
                // Simulate bot response
                setTimeout(() => {
                    const botLi = document.createElement('li');
                    botLi.innerHTML = `
                        <strong>StreamVibe:</strong> Классное сообщение! Продолжаем просмотр? 😊
                        <small>${new Date().toLocaleTimeString()}</small>
                    `;
                    messagesList.appendChild(botLi);
                    messagesList.scrollTop = messagesList.scrollHeight;
                }, 1000);
            }
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Contact form handling
        document.getElementById('contact-form').addEventListener('submit', function(e) {
            e.preventDefault();
            const formError = document.getElementById('form-error');
            formError.style.display = 'block';
            formError.textContent = 'Спасибо за обращение! Мы свяжемся с вами в течение 24 часов.';
            formError.style.color = '#4ecdc4';
            
            setTimeout(() => {
                formError.style.display = 'none';
                this.reset();
            }, 3000);
        });

        // Initialize animations on page load
        document.addEventListener('DOMContentLoaded', function() {
            animateFeatures();
            animateSteps();
            animateTestimonials();

            // Add welcome message to chat
            const messagesList = document.getElementById('messages');
            const welcomeLi = document.createElement('li');
            welcomeLi.className = 'system';
            welcomeLi.innerHTML = `
                <strong>StreamVibe:</strong> Добро пожаловать в комнату! Наслаждайтесь просмотром вместе с друзьями 🎬
                <small>${new Date().toLocaleTimeString()}</small>
            `;
            messagesList.appendChild(welcomeLi);
        });

        // Add more users to room simulation
        function addRandomUsers() {
            const usersList = document.getElementById('users-list');
            const names = ['Алексей', 'Мария', 'Иван', 'Ольга', 'Дмитрий', 'Елена'];
            
            names.forEach((name, index) => {
                setTimeout(() => {
                    const userDiv = document.createElement('div');
                    userDiv.className = 'user';
                    userDiv.innerHTML = `
                        <div class="user-avatar">${name[0]}</div>
                        <span>${name}</span>
                        <div class="status"></div>
                    `;
                    usersList.appendChild(userDiv);
                }, index * 500);
            });
        }

        // Initialize users after a delay
        setTimeout(addRandomUsers, 1000);

        // Initialize particles.js for popular-movies
        particlesJS("popular-particles", {
            particles: {
                number: { value: 60, density: { enable: true, value_area: 1000 } },
                color: { value: "#4ecdc4" },
                shape: { type: "triangle", stroke: { width: 1, color: "#4ecdc4" } },
                opacity: { value: 0.6, random: true },
                size: { value: 4, random: true },
                line_linked: { enable: true, distance: 200, color: "#4ecdc4", opacity: 0.3, width: 1.5 },
                move: { enable: true, speed: 2, direction: "top", random: true, out_mode: "out" }
            },
            interactivity: {
                detect_on: "canvas",
                events: { onhover: { enable: true, mode: "grab" }, onclick: { enable: true, mode: "repulse" }, resize: true },
                modes: { grab: { distance: 200, line_linked: { opacity: 0.7 } }, repulse: { distance: 100 } }
            },
            retina_detect: true
        });
    </script>
</body>
</html>
