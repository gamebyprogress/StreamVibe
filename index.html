<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="StreamVibe - платформа для синхронного просмотра фильмов и сериалов с друзьями в 4K. Скачай приложение для Windows и наслаждайся совместным просмотром Netflix, YouTube и других сервисов.">
    <meta name="keywords" content="StreamVibe, синхронный просмотр, фильмы с друзьями, 4K видео, Netflix, YouTube">
    <meta property="og:title" content="StreamVibe: Смотри фильмы в 4K с друзьями">
    <meta property="og:description" content="Синхронный просмотр Netflix, YouTube и сериалов. Скачай для Windows.">
    <title>StreamVibe</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><defs><linearGradient id='grad' x1='0%' y1='0%' x2='100%' y2='100%'><stop offset='0%' stop-color='%23ff6b6b'/><stop offset='100%' stop-color='%234ecdc4'/></linearGradient></defs><circle cx='50' cy='50' r='45' fill='url(%23grad)' stroke='%23fff' stroke-width='3'/><text x='50' y='58' font-family='Arial' font-size='24' fill='%23fff' text-anchor='middle' font-weight='bold'>SV</text></svg>" type="image/svg+xml">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
</head>
<body>
    <div id="particles-js"></div>
    
    <header>
        <nav>
            <a href="#" class="logo">
                <i class="fas fa-play-circle"></i>
                StreamVibe
            </a>
            <div class="nav-links">
                <a href="#popular-movies">Фильмы</a>
                <a href="#features">Особенности</a>
                <a href="#faq">FAQ</a>
                <a href="#contacts">Контакты</a>
            </div>
        </nav>
        
        <section class="hero">
            <div class="hero-content">
                <h1>Смотри фильмы в 4K вместе с друзьями</h1>
                
                <div class="hero-video">
                    <iframe src="https://www.youtube.com/embed/pBk4NYhWNMM" title="StreamVibe Demo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
                
                <div class="cta-container">
                    <a href="#" class="cta-btn cta-primary" id="downloadBtn">
                        <i class="fas fa-download"></i>
                        Скачать для Windows
                    </a>
                    <a href="#movie-select" class="cta-btn cta-secondary">
                        <i class="fas fa-play-circle"></i>
                        Присоединиться к комнате
                    </a>
                </div>
            </div>
        </section>
    </header>
    
    <main>
        <section class="popular-movies" id="popular-movies">
            <div class="section-header">
                <i class="fas fa-fire section-icon"></i>
                <h2 class="section-title">Популярное сейчас</h2>
            </div>
            
            <div class="movie-grid">
                <article class="movie-card">
                    <div class="rating">8.3</div>
                    <img src="https://image.tmdb.org/t/p/original/8Gxv8gAuwvnP99EQ3kZOeaJU9Iv.jpg" alt="Barbie">
                    <a href="https://www.imdb.com/title/tt1517268/" target="_blank" rel="noopener" class="play-overlay">
                        <i class="fas fa-external-link-alt"></i>
                    </a>
                    <div class="movie-card-content">
                        <h3>Barbie</h3>
                    </div>
                </article>
                
                <article class="movie-card">
                    <div class="rating">8.7</div>
                    <img src="https://image.tmdb.org/t/p/original/mBoNRrWjgjjl0GCIENsWo5cpN5B.jpg" alt="Dune: Part Two">
                    <a href="https://www.imdb.com/title/tt15239678/" target="_blank" rel="noopener" class="play-overlay">
                        <i class="fas fa-external-link-alt"></i>
                    </a>
                    <div class="movie-card-content">
                        <h3>Dune: Part Two</h3>
                    </div>
                </article>
                
                <article class="movie-card">
                    <div class="rating">8.4</div>
                    <img src="https://image.tmdb.org/t/p/original/8Gxv8gAuwvnP99EQ3kZOeaJU9Iv.jpg" alt="Oppenheimer">
                    <a href="https://www.imdb.com/title/tt15398776/" target="_blank" rel="noopener" class="play-overlay">
                        <i class="fas fa-external-link-alt"></i>
                    </a>
                    <div class="movie-card-content">
                        <h3>Oppenheimer</h3>
                    </div>
                </article>
                
                <article class="movie-card">
                    <div class="rating">7.9</div>
                    <img src="https://image.tmdb.org/t/p/original/nHF3Iqnw7kd37xsxB3aOz8b7uPc.jpg" alt="The Batman">
                    <a href="https://www.imdb.com/title/tt1877830/" target="_blank" rel="noopener" class="play-overlay">
                        <i class="fas fa-external-link-alt"></i>
                    </a>
                    <div class="movie-card-content">
                        <h3>The Batman</h3>
                    </div>
                </article>
                
                <article class="movie-card">
                    <div class="rating">8.7</div>
                    <img src="https://image.tmdb.org/t/p/original/r6OUpWpeNztX3dO9lH0iTuyMKzz.jpg" alt="Stranger Things S5">
                    <a href="https://www.imdb.com/title/tt4574334/" target="_blank" rel="noopener" class="play-overlay">
                        <i class="fas fa-external-link-alt"></i>
                    </a>
                    <div class="movie-card-content">
                        <h3>Stranger Things S5</h3>
                    </div>
                </article>
                
                <article class="movie-card">
                    <div class="rating">7.8</div>
                    <img src="https://image.tmdb.org/t/p/original/3Z0x7ZyAMy1KQAEtcXfpZLLxiXO.jpg" alt="Avatar: Fire and Ash">
                    <a href="https://www.imdb.com/title/tt1757678/" target="_blank" rel="noopener" class="play-overlay">
                        <i class="fas fa-external-link-alt"></i>
                    </a>
                    <div class="movie-card-content">
                        <h3>Avatar: Fire and Ash</h3>
                    </div>
                </article>
            </div>
        </section>

        <section class="features-container" id="features">
            <section class="features">
                <div class="section-header">
                    <i class="fas fa-star section-icon"></i>
                    <h2 class="section-title">Почему StreamVibe?</h2>
                </div>
                
                <div class="feature-grid">
                    <article class="feature">
                        <i class="fas fa-users"></i>
                        <h3>Совместный просмотр</h3>
                        <p>Создавай приватные комнаты и приглашай друзей для синхронного просмотра в реальном времени</p>
                    </article>
                    
                    <article class="feature">
                        <i class="fas fa-comments"></i>
                        <h3>Чат и голосовой чат</h3>
                        <p>Общайтесь во время просмотра без спойлеров. Голосовой чат для живого общения</p>
                    </article>
                    
                    <article class="feature">
                        <i class="fas fa-desktop"></i>
                        <h3>Оптимизировано для Windows</h3>
                        <p>Стабильная работа, минимальная нагрузка на систему и максимальная производительность</p>
                    </article>
                    
                    <article class="feature">
                        <i class="fas fa-lock"></i>
                        <h3>Полная приватность</h3>
                        <p>Комнаты доступны только приглашенным пользователям. End-to-End шифрование чатов</p>
                    </article>
                    
                    <article class="feature">
                        <i class="fas fa-tv"></i>
                        <h3>4K и HDR качество</h3>
                        <p>Поддержка высокого разрешения и HDR контента без потери качества изображения</p>
                    </article>
                    
                    <article class="feature">
                        <i class="fas fa-globe"></i>
                        <h3>Мультиплатформенность</h3>
                        <p>Интеграция с Netflix, YouTube, Amazon Prime, Disney+ и поддержка локальных файлов</p>
                    </article>
                </div>
            </section>

            <section class="how-it-works" id="how-it-works">
                <div class="section-header">
                    <i class="fas fa-play-circle section-icon"></i>
                    <h2 class="section-title">Как это работает?</h2>
                </div>
                
                <div class="steps">
                    <article class="step">
                        <div class="step-number">01</div>
                        <h3>Скачай и установи</h3>
                        <p>Загрузи приложение для Windows и установи за 2 минуты</p>
                    </article>
                    
                    <article class="step">
                        <div class="step-number">02</div>
                        <h3>Создай комнату</h3>
                        <p>Выбери фильм или сериал и сгенерируй уникальную ссылку для друзей</p>
                    </article>
                    
                    <article class="step">
                        <div class="step-number">03</div>
                        <h3>Смотрите вместе</h3>
                        <p>Видео автоматически синхронизируется для всех участников комнаты</p>
                    </article>
                </div>
            </section>
        </section>

        <section class="testimonials" id="testimonials">
            <div class="section-header">
                <i class="fas fa-quote-left section-icon"></i>
                <h2 class="section-title">Что говорят наши пользователи</h2>
            </div>
            
            <div class="testimonial-grid">
                <article class="testimonial">
                    <img src="https://randomuser.me/api/portraits/women/1.jpg" alt="Анна" class="testimonial-avatar">
                    <div class="testimonial-text">
                        "StreamVibe полностью изменил наши посиделки! Смотрим Barbie с подругами, чат работает идеально, синхронизация без задержек. Просто огонь!"
                    </div>
                    <cite class="testimonial-author">- Анна, 22 года</cite>
                </article>
                
                <article class="testimonial">
                    <img src="https://randomuser.me/api/portraits/men/2.jpg" alt="Максим" class="testimonial-avatar">
                    <div class="testimonial-text">
                        "Качество 4K просто потрясающее! Синхронизация работает без лагов даже при слабом соединении. Скачал за минуту и сразу начал пользоваться."
                    </div>
                    <cite class="testimonial-author">- Максим, 28 лет</cite>
                </article>
                
                <article class="testimonial">
                    <img src="https://randomuser.me/api/portraits/women/3.jpg" alt="Екатерина" class="testimonial-avatar">
                    <div class="testimonial-text">
                        "Идеально для девичников! Приватные комнаты — это то, что нужно. Все подруги в восторге, теперь это наша основная платформа для кино."
                    </div>
                    <cite class="testimonial-author">- Екатерина, 19 лет</cite>
                </article>
                
                <article class="testimonial">
                    <img src="https://randomuser.me/api/portraits/men/4.jpg" alt="Дмитрий" class="testimonial-avatar">
                    <div class="testimonial-text">
                        "Смотрели Oppenheimer — ощущения как в настоящем кинотеатре! Качество изображения и звука на высоте, все работает стабильно."
                    </div>
                    <cite class="testimonial-author">- Дмитрий, 25 лет</cite>
                </article>
                
                <article class="testimonial">
                    <img src="https://randomuser.me/api/portraits/women/5.jpg" alt="Елизавета" class="testimonial-avatar">
                    <div class="testimonial-text">
                        "Приватные комнаты — настоящая находка! Никто не мешает, можно спокойно обсуждать сюжет. Интерфейс интуитивно понятный."
                    </div>
                    <cite class="testimonial-author">- Елизавета, 21 год</cite>
                </article>
                
                <article class="testimonial">
                    <img src="https://randomuser.me/api/portraits/men/6.jpg" alt="Сергей" class="testimonial-avatar">
                    <div class="testimonial-text">
                        "Простое и удобное приложение. Скачал, установил, создали комнату — и сразу в дело. Никаких сложностей, всё работает как часы."
                    </div>
                    <cite class="testimonial-author">- Сергей, 30 лет</cite>
                </article>
            </div>
        </section>

        <section class="faq" id="faq">
            <div class="section-header">
                <i class="fas fa-question-circle section-icon"></i>
                <h2 class="section-title">Часто задаваемые вопросы</h2>
            </div>
            
            <div class="faq-container">
                <div class="faq-item">
                    <div class="faq-question">
                        Как скачать и установить приложение?
                        <span class="icon">+</span>
                    </div>
                    <div class="faq-answer">
                        Простая установка в 4 шага:
                        	Нажмите кнопку "Скачать для Windows" на главной странице
	Распакуйте архив (пароль: 3987)
	Запустите stream-vibe-installer.exe
	Следуйте инструкциям установщика (2-3 минуты)


                        Поддержка: доступна 24/7 через встроенный чат
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        На каких платформах работает StreamVibe?
                        <span class="icon">+</span>
                    </div>
                    <div class="faq-answer">
                        Текущая поддержка:
                        	Windows 10/11 — полная поддержка (64-bit)
	Браузерная версия — Chrome, Firefox, Safari


                        В разработке:
                        	macOS — релиз через 2-3 месяца
	iOS/Android — первая половина 2026 года


                        Системные требования: 4 ГБ RAM, 100 МБ места
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        Как работает синхронизация видео?
                        <span class="icon">+</span>
                    </div>
                    <div class="faq-answer">
                        Технология SyncTime™ обеспечивает:
                        	Задержка <200мс даже при слабом соединении
	Автоматическая синхронизация для всех участников
	Компенсация jitter разной скорости интернета
	Ручная синхронизация кнопкой при необходимости


                        Поддерживаемые форматы: YouTube (4K/60fps), Netflix, Amazon Prime, Disney+, MP4/H.264 файлы
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        Какие стриминговые сервисы поддерживаются?
                        <span class="icon">+</span>
                    </div>
                    <div class="faq-answer">
                        Полная поддержка:
                        	YouTube — все видео включая 4K и 60 FPS
	Netflix — премиум контент (требуется подписка)
	Amazon Prime Video — 4K HDR контент
	Disney+ — Marvel, Star Wars, Pixar
	HBO Max — контент Warner Bros.


                        Дополнительно:
                        	Спорт: TNT Sports, ESPN+, DAZN
	Музыка: Spotify, Apple Music
	Файлы: MP4, MKV до 8K + субтитры


                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        Насколько безопасно использование?
                        <span class="icon">+</span>
                    </div>
                    <div class="faq-answer">
                        Меры безопасности:
                        	Антивирусная защита: проверено Norton, McAfee, Kaspersky
	Шифрование: TLS 1.3 для соединений + AES-256 для данных
	Приватность: End-to-End шифрование приватных комнат
	Аутентификация: цифровая подпись Microsoft Authenticode


                        Что НЕ делаем:
                        	Не собираем пароли от стриминговых сервисов
	Не храним историю просмотров без согласия
	Не показываем рекламу в приложении
	Соответствуем GDPR и российскому законодательству


                        Важно: скачивайте только с официального сайта
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        Поддерживается ли оффлайн просмотр?
                        <span class="icon">+</span>
                    </div>
                    <div class="faq-answer">
                        Онлайн режим (основной):
                        	1080p: от 5 Мбит/с
	4K: от 25 Мбит/с
	Авто-подстройка под скорость соединения


                        
                        Оффлайн возможности:
                        	Локальные файлы: MP4, MKV до 8K разрешения
	Скачивание: Netflix, YouTube Premium
	Локальная сеть: Wi-Fi без интернета (multicast протокол)


                        
                        Хранение:
                        	Автоматическая папка C:\StreamVibe\Offline
	Поддержка USB/HDD накопителей
	Встроенный плеер с субтитрами и эквалайзером


                        
                        Ограничения: чат работает только в локальной сети, нет облачного сохранения прогресса
                    </div>
                </div>
            </div>
        </section>

        <section id="movie-select">
            <div class="section-header">
                <i class="fas fa-users section-icon"></i>
                <h2 class="section-title">Активные комнаты</h2>
            </div>
            
            <div class="rooms-header">
                <input type="text" id="search" placeholder="Поиск по названию фильма...">
                <button class="create-room-btn" id="createRoomBtn">
                    <i class="fas fa-plus"></i>
                    Создать комнату
                </button>
            </div>
            
            <div class="movie-rooms" id="movie-rooms">
                <article class="room-card">
                    <img src="https://image.tmdb.org/t/p/original/mBoNRrWjgjjl0GCIENsWo5cpN5B.jpg" alt="Interstellar">
                    <h4>Interstellar</h4>
                    <div class="viewers">
                        <i class="fas fa-eye"></i> 12 зрителей
                    </div>
                    <span class="room-status">
                        <i class="fas fa-circle"></i> В эфире
                    </span>
                </article>
                
                <article class="room-card">
                    <img src="https://image.tmdb.org/t/p/original/mBoNRrWjgjjl0GCIENsWo5cpN5B.jpg" alt="Inception">
                    <h4>Inception</h4>
                    <div class="viewers">
                        <i class="fas fa-eye"></i> 8 зрителей
                    </div>
                    <span class="room-status">
                        <i class="fas fa-circle"></i> В эфире
                    </span>
                </article>
                
                <article class="room-card">
                    <img src="https://image.tmdb.org/t/p/original/mBoNRrWjgjjl0GCIENsWo5cpN5B.jpg" alt="The Dark Knight">
                    <h4>The Dark Knight</h4>
                    <div class="viewers">
                        <i class="fas fa-eye"></i> 15 зрителей
                    </div>
                    <span class="room-status">
                        <i class="fas fa-circle"></i> В эфире
                    </span>
                </article>
                
                <article class="room-card waiting">
                    <img src="https://image.tmdb.org/t/p/original/mBoNRrWjgjjl0GCIENsWo5cpN5B.jpg" alt="Pulp Fiction">
                    <h4>Pulp Fiction</h4>
                    <div class="viewers">
                        <i class="fas fa-eye"></i> 5 зрителей
                    </div>
                    <span class="room-status">
                        <i class="fas fa-clock"></i> Ожидает
                    </span>
                </article>
                
                <article class="room-card">
                    <img src="https://image.tmdb.org/t/p/original/mBoNRrWjgjjl0GCIENsWo5cpN5B.jpg" alt="The Matrix">
                    <h4>The Matrix</h4>
                    <div class="viewers">
                        <i class="fas fa-eye"></i> 9 зрителей
                    </div>
                    <span class="room-status">
                        <i class="fas fa-circle"></i> В эфире
                    </span>
                </article>
                
                <article class="room-card">
                    <img src="https://image.tmdb.org/t/p/original/mBoNRrWjgjjl0GCIENsWo5cpN5B.jpg" alt="Fight Club">
                    <h4>Fight Club</h4>
                    <div class="viewers">
                        <i class="fas fa-eye"></i> 7 зрителей
                    </div>
                    <span class="room-status">
                        <i class="fas fa-circle"></i> В эфире
                    </span>
                </article>
            </div>
        </section>
        
        <section id="watch-party">
            <div class="party-header">
                <h2 class="party-title">Киносеанс: <span id="room-id">Loading...</span></h2>
                <div>
                    <button id="shareBtn">
                        <i class="fas fa-share-alt"></i> Поделиться ссылкой
                    </button>
                    <button id="exitBtn">
                        <i class="fas fa-sign-out-alt"></i> Выйти из комнаты
                    </button>
                </div>
            </div>
            
            <div id="users-list">
                <!-- Users will be inserted here -->
            </div>
            
            <div class="player-chat">
                <iframe id="video-player" frameborder="0" allowfullscreen></iframe>
                <div id="chat">
                    <h3><i class="fas fa-comments"></i> Чат комнаты</h3>
                    <ul id="messages"></ul>
                    <div class="chat-input">
                        <input type="text" id="message-input" placeholder="Напишите сообщение...">
                        <button id="sendBtn">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <footer id="contacts">
        <h2>Связаться с нами</h2>
        
        <div class="contacts">
            <a href="mailto:support@streamvibe.com" class="contact-link">
                <i class="fas fa-envelope"></i>
            </a>
            <a href="https://t.me/streamvibe" target="_blank" rel="noopener" class="contact-link">
                <i class="fab fa-telegram-plane"></i>
            </a>
            <a href="https://vk.com/streamvibe" target="_blank" rel="noopener" class="contact-link">
                <i class="fab fa-vk"></i>
            </a>
            <a href="https://discord.gg/streamvibe" target="_blank" rel="noopener" class="contact-link">
                <i class="fab fa-discord"></i>
            </a>
        </div>
        
        <form class="contact-form" id="contact-form">
            <h3>Обратная связь</h3>
            
            <input type="text" id="contact-name" placeholder="Ваше имя" required>
            <div id="name-error" class="error"></div>
            
            <input type="email" id="contact-email" placeholder="Ваш email" required>
            <div id="email-error" class="error"></div>
            
            <textarea id="contact-message" placeholder="Ваше сообщение" required></textarea>
            <div id="message-error" class="error"></div>
            
            <button type="submit">Отправить</button>
        </form>
        
        <div class="footer-links">
            <a href="#">Политика конфиденциальности</a>
            <a href="#">Условия использования</a>
            <a href="#">Поддержка</a>
            <a href="#">О нас</a>
        </div>
    </footer>

    <div class="modal" id="download-modal">
        <div class="modal-content">
            <h2>Скачивание началось!</h2>
            <p>Ваш файл загружается. Пожалуйста, дождитесь завершения.</p>
            <div class="progress-bar">
                <div class="progress"></div>
            </div>
            <p class="modal-hint">После скачивания запустите <code>stream-vibe-installer.exe</code> и следуйте инструкциям.</p>
        </div>
    </div>

    <script>
        // Particles.js initialization
        particlesJS('particles-js', {
            particles: {
                number: { value: 80, density: { enable: true, value_area: 800 } },
                color: { value: ['#ff6b6b', '#4ecdc4'] },
                shape: { type: 'circle' },
                opacity: { value: 0.5, random: true },
                size: { value: 3, random: true },
                line_linked: { enable: true, distance: 150, color: '#ffffff', opacity: 0.1, width: 1 },
                move: { enable: true, speed: 2, direction: 'none', random: true, out_mode: 'out' }
            },
            interactivity: {
                detect_on: 'canvas',
                events: { onhover: { enable: true, mode: 'grab' }, onclick: { enable: true, mode: 'push' }, resize: true },
                modes: { grab: { distance: 200, line_linked: { opacity: 0.5 } }, push: { particles_nb: 4 } }
            },
            retina_detect: true
        });

        // Smooth Scroll for Navigation
        document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // FAQ Toggle
        document.querySelectorAll('.faq-question').forEach(question => {
            question.addEventListener('click', function () {
                const faqItem = this.parentElement;
                const isActive = faqItem.classList.contains('active');
                const answer = faqItem.querySelector('.faq-answer');

                // Close all other FAQ items
                document.querySelectorAll('.faq-item').forEach(item => {
                    if (item !== faqItem) {
                        item.classList.remove('active');
                        item.querySelector('.faq-answer').style.maxHeight = '0';
                        item.querySelector('.icon').textContent = '+';
                    }
                });

                // Toggle current item
                if (isActive) {
                    faqItem.classList.remove('active');
                    answer.style.maxHeight = '0';
                    this.querySelector('.icon').textContent = '+';
                } else {
                    faqItem.classList.add('active');
                    answer.style.maxHeight = (answer.scrollHeight + 20) + 'px'; // +20px для отступов
                    this.querySelector('.icon').textContent = '-';
                }
            });
        });

        // Scroll Animations
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        document.querySelectorAll('.feature, .step').forEach(element => {
            observer.observe(element);
        });

        // Modal for Download
        document.getElementById('downloadBtn').addEventListener('click', function (event) {
            event.preventDefault();
            const modal = document.getElementById('download-modal');
            modal.classList.add('visible');

            const progress = modal.querySelector('.progress');
            progress.style.width = '0%';

            const animationDuration = 2000; // 2 секунды
            progress.style.transition = `width ${animationDuration}ms cubic-bezier(0.25, 0.46, 0.45, 0.94)`;
            setTimeout(() => {
                progress.style.width = '100%';
            }, 100);

            setTimeout(() => {
                modal.classList.remove('visible');
            }, animationDuration + 1000); // Закрыть после завершения + 1 секунда
        });

        // Room Functions
        document.getElementById('createRoomBtn').addEventListener('click', createRoom);

        function createRoom() {
            alert('Комната создана! Ссылка: ' + window.location.href + '/room/' + Math.random().toString(36).substr(2, 9));
        }

        document.querySelectorAll('.room-card').forEach(card => {
            card.addEventListener('click', () => {
                const videoUrl = card.getAttribute('data-video');
                const roomName = card.getAttribute('data-title');
                joinRoom(videoUrl, roomName);
            });
        });

        function joinRoom(videoUrl, roomName) {
            const watchParty = document.getElementById('watch-party');
            const movieSelect = document.getElementById('movie-select');
            const videoPlayer = document.getElementById('video-player');
            const roomId = document.getElementById('room-id');
            const usersList = document.getElementById('users-list');

            movieSelect.style.opacity = '0';
            movieSelect.style.transform = 'translateY(-30px)';
            setTimeout(() => {
                movieSelect.style.display = 'none';
                watchParty.style.display = 'block';
                watchParty.style.opacity = '1';
                watchParty.style.transform = 'translateY(0)';
                videoPlayer.src = 'https://www.youtube.com/embed/' + videoUrl;
                roomId.textContent = roomName;

                // Имитация списка пользователей (больше пользователей)
                usersList.innerHTML = `
                    <div class="user">
                        <div class="user-avatar">JD</div>
                        <span>John Doe</span>
                        <span class="status"></span>
                    </div>
                    <div class="user offline">
                        <img src="https://randomuser.me/api/portraits/women/2.jpg" alt="Jane" class="user-avatar">
                        <span>Jane Smith</span>
                        <span class="status"></span>
                    </div>
                    <div class="user">
                        <img src="https://randomuser.me/api/portraits/men/3.jpg" alt="Mike" class="user-avatar">
                        <span>Mike Johnson</span>
                        <span class="status"></span>
                    </div>
                    <div class="user">
                        <img src="https://randomuser.me/api/portraits/women/4.jpg" alt="Anna" class="user-avatar">
                        <span>Anna Lee</span>
                        <span class="status"></span>
                    </div>
                    <div class="user offline">
                        <img src="https://randomuser.me/api/portraits/men/5.jpg" alt="Bob" class="user-avatar">
                        <span>Bob Ross</span>
                        <span class="status"></span>
                    </div>
                    <div class="user">
                        <img src="https://randomuser.me/api/portraits/women/6.jpg" alt="Emily" class="user-avatar">
                        <span>Emily Davis</span>
                        <span class="status"></span>
                    </div>
                    <div class="user">
                        <img src="https://randomuser.me/api/portraits/men/7.jpg" alt="David" class="user-avatar">
                        <span>David Wilson</span>
                        <span class="status"></span>
                    </div>
                    <div class="user offline">
                        <img src="https://randomuser.me/api/portraits/women/8.jpg" alt="Sophia" class="user-avatar">
                        <span>Sophia Martinez</span>
                        <span class="status"></span>
                    </div>
                `;
            }, 300);

            // Сообщение от системы
            const messages = document.getElementById('messages');
            const li = document.createElement('li');
            li.innerHTML = `<strong>System:</strong> You joined the room <small>${new Date().toLocaleTimeString()}</small>`;
            messages.appendChild(li);
            messages.scrollTop = messages.scrollHeight;

            // Нет скролла наверх
        }

        document.getElementById('shareBtn').addEventListener('click', shareRoom);

        function shareRoom() {
            const roomId = document.getElementById('room-id').textContent;
            const dummy = document.createElement('input');
            document.body.appendChild(dummy);
            dummy.value = window.location.href + '/room/' + roomId.replace(/\s+/g, '-').toLowerCase();
            dummy.select();
            document.execCommand('copy');
            document.body.removeChild(dummy);
            alert('Ссылка на комнату скопирована в буфер обмена!');
        }

        document.getElementById('exitBtn').addEventListener('click', leaveRoom);

        function leaveRoom() {
            const watchParty = document.getElementById('watch-party');
            const movieSelect = document.getElementById('movie-select');
            const videoPlayer = document.getElementById('video-player');
            const messages = document.getElementById('messages');

            watchParty.style.opacity = '0';
            watchParty.style.transform = 'translateY(30px)';
            setTimeout(() => {
                watchParty.style.display = 'none';
                movieSelect.style.display = 'block';
                movieSelect.style.opacity = '1';
                movieSelect.style.transform = 'translateY(0)';
                videoPlayer.src = '';
                messages.innerHTML = '';
            }, 300);
        }

        // Chat Functionality
        document.getElementById('sendBtn').addEventListener('click', sendMessage);
        document.getElementById('message-input').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });

        function sendMessage() {
            const input = document.getElementById('message-input');
            const messages = document.getElementById('messages');
            if (input.value.trim() !== '') {
                const li = document.createElement('li');
                li.innerHTML = `<strong>You:</strong> ${input.value} <small>${new Date().toLocaleTimeString()}</small>`;
                messages.appendChild(li);
                messages.scrollTop = messages.scrollHeight;
                input.value = '';
            }
        }

        // Simulate Messages
        function simulateMessages() {
            const messages = document.getElementById('messages');
            const users = ['John Doe', 'Jane Smith', 'Mike Johnson', 'Anna Lee', 'Bob Ross', 'Emily Davis', 'David Wilson', 'Sophia Martinez'];
            const sampleMessages = [
                'This scene is amazing!',
                'Did anyone notice that Easter egg?',
                'Pause for 5 minutes, okay?',
                'Best movie of the year!',
                'What do you think will happen next?',
                'The acting is top-notch!',
                'Love this soundtrack.',
                'That twist was unexpected!',
                'Anyone else crying?',
                'Classic film!',
                'Highly recommend this!',
                'The visuals are stunning in 4K.'
            ];
            setInterval(() => {
                const user = users[Math.floor(Math.random() * users.length)];
                const text = sampleMessages[Math.floor(Math.random() * sampleMessages.length)];
                const li = document.createElement('li');
                li.innerHTML = `<strong>${user}:</strong> ${text} <small>${new Date().toLocaleTimeString()}</small>`;
                messages.appendChild(li);
                messages.scrollTop = messages.scrollHeight;
            }, 3000); // чаще, каждые 3 секунды
        }

        // Start simulation when room is joined (call in joinRoom if needed)
        // simulateMessages(); // Uncomment if you want global simulation

        // Form Validation
        const form = document.getElementById('contact-form');
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const name = document.getElementById('contact-name');
            const email = document.getElementById('contact-email');
            const message = document.getElementById('contact-message');
            const nameError = document.getElementById('name-error');
            const emailError = document.getElementById('email-error');
            const messageError = document.getElementById('message-error');
            
            let valid = true;
            
            nameError.textContent = '';
            emailError.textContent = '';
            messageError.textContent = '';
            
            if (name.value.trim().length < 2) {
                nameError.textContent = 'Имя должно содержать минимум 2 символа';
                nameError.style.display = 'block';
                valid = false;
            }
            
            const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailPattern.test(email.value.trim())) {
                emailError.textContent = 'Введите корректный email';
                emailError.style.display = 'block';
                valid = false;
            }
            
            if (message.value.trim().length < 10) {
                messageError.textContent = 'Сообщение должно содержать минимум 10 символов';
                messageError.style.display = 'block';
                valid = false;
            }
            
            if (valid) {
                alert('Сообщение отправлено!');
                form.reset();
            }
        });

        // Search Functionality
        const searchInput = document.getElementById('search');
        searchInput.addEventListener('input', () => {
            const filter = searchInput.value.toLowerCase();
            const rooms = document.querySelectorAll('.room-card');
            rooms.forEach(room => {
                const title = room.querySelector('h4').textContent.toLowerCase();
                room.style.display = title.includes(filter) ? '' : 'none';
            });
        });
    </script>
</body>
</html>
